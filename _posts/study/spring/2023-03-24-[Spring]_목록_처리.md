---
layout: post
title: "[Spring] 목록 처리"
subtitle: Spring
date: '2023-03-24 12:40:00 +0900'
category: study
tags: spring web
image:
    path: /assets/img/study_Web/spring/logo.png
---

`목록`을 처리해봅시다.

<!--more-->

* this unordered seed list will be replaced by the toc
{:toc}
<br>
목록을 처리할 때 우선 처음으로 화면에 목록을 보여주기 위해서 목록 데이터에 대한 DTO가 필요합니다. 또한 화면에 보일 DTO를 Pageable 타입으로 전환해야 하며 Page 엔티티를 DTO 리스트로 변환해야 합니다. 마지막으로 화면에 필요한 페이지의 번호를 처리해야 합니다.<br> 

---
<br>

# 1. PageRequestDTO 작성
---
<br>

![1](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/1.png)
<br>

목록 페이지를 요청할 때 사용할 PageRequestDTO 클래스를 작성합니다.<br>


# 2. fragment1.html 작성
---
<br>

![2](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/2.png)
<br>

이번에 구현하고자 하는 exLayout.html은 내부적으로 다른 파일에 있는 일부분을 조각처럼 가져와 구성합니다. 이러한 조각이 될 수 있는 fragments 폴더를 작성하고 조각이 될 fragment1.html을 생성한 뒤 위와 같은 내용을 작성합니다.<br>
th:fragment라는 태그를 통해 표현합니다.<br>

# 3. exLayout1.html 작성
---
<br>

![3](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/3.png)
<br>

이제 화면이 될 exLayout1.html을 추가한 뒤 fragment1.html의 조각들을 가져와 사용하는 코드를 작성합니다.<br>
th:replace, th:insert, th:bolck th:replace를 사용해 fragment1의 조각을 각각 다르게 가져와보겠습니다.<br>


# 4. exLayout1.html 실행 결과
---
<br>

![4](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/4.png)
<br>

실행 결과 개발자 도구를 살펴보면 가져온 결과가 다른 것을 확인할 수 있습니다.<br>
th:insert의 경우 th:replace와 달리 \<div\> 태그 내에 다시 \<div\> 태그가 생성된 것을 확인할 수 있습니다.<br>

# 5. fragment2.html 작성
---
<br>

![5](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/5.png)
<br>

이번엔 파일의 일부분을 가져오는 것이 아닌 파일의 전체를 가져오는 실습을 해보겠습니다.<br>
실습을 위해 fragment2.html을 생성한 뒤 위와 같은 코드를 작성합니다.<br>

# 6. exLayout1.html 코드 추가
---
<br>

![6](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/6.png)
<br>

exLayout1.html에는 작성된 fragment2.html의 전체를 가져오는 부분을 추가합니다.<br>
th:replace="~{/fragments/fragment2}"를 통해 fragment2의 전체를 가져옵니다.<br>

# 7. exLayout1.html 실행 결과
---
<br>

![7](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/7.png)
<br>

실행 결과는 위의 그림과 같습니다.<br>

# 8. SampleController 코드 추가 (파라미터 방식)
---
<br>

![8](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/8.png)
<br>

이번엔 파라미터 방식의 처리를 실습해보기위해 SampleController에 /exLayout2를 추가하겠습니다.<br>

# 9. fragment3.html 작성
---
<br>

![9](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/9.png)
<br>

fragment3.html에는 파라미터를 받는 th:fragment를 위의 그림과 같이 사용합니다.<br>
선언된 target에는 first와 second라는 파라미터를 받을 수 있도록 구성하였고 내부적으로 th:block에 표현되고 있습니다.<br> 

# 10. exLayout2.html 작성
---
<br>

![10](/assets/img/study_Web/spring/2023-03-24-[Spring]_목록_처리/10.png)
<br>

실제 화면이 될 exLayout2.html을 작성합니다.<br>
ex2Layout2.html은 화면 구성과 관련된 기능이 없이 target에 파라미터만을 사용하는 것을 볼 수 있습니다. ulFirst, ulSecond가 fragment3의 내용의 일부로 전달되고 이를 사<br>